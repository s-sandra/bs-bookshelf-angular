<div class="grid">
  <mat-card class="tile" *ngFor="let book of books">
    <app-book [metadata]="book"></app-book>
    <mat-card-actions *ngIf="firebase.user || book.buyLink">
      <button
        *ngIf="context === 'search' && firebase.user"
        id="add"
        (click)="saveBook(book)"
        matTooltip="add book to bookshelf"
        mat-button
      ><mat-icon>library_add</mat-icon></button>
      <button
        *ngIf="context === 'bookshelf'"
        (click)="deleteBook(book)"
        matTooltip="remove from bookshelf"
        mat-icon-button
      ><mat-icon>delete</mat-icon></button>
      <a
        *ngIf="book.buyLink"
        [href]="book.buyLink"
        target="_blank"
      >
        <img
          class="badge"
          alt="Get it on Google Play"
          src="https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png"/>
      </a>
    </mat-card-actions>
  </mat-card>
</div>
